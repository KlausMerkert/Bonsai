<div>
    <ul class="tabs">
        <li style="margin-right: 2em;"></li>
        <li ng-class="{'active': !selectedEditor}">
            <span class="start"></span>
            <span class="content" ng-click="selectEditor(undefined)"><a href="">CPU-Ansicht</a></span>
            <span class="end"></span>
        </li>
        <li ng-repeat="editor in editors" ng-class="{'active': selectedEditor === $index + 1}">
            <span class="start"></span>
            <span class="content" ng-click="selectEditor($index + 1)"><a href="">{{ editor.name }}</a></span>
            <span class="end"></span>
        </li>
    </ul>
    <div class="components pane" ng-show="!selectedEditor">
        <controlwire wire="wire1a" wire-name="Draht 1 A"></controlwire>
        <controlwire wire="wire1b" wire-name="Draht 1 B"></controlwire>
        <controlwire wire="wire1" wire-name="Draht 1"></controlwire>
        <controlwire wire="wire2" wire-name="Draht 2"></controlwire>
        <controlwire wire="wire3" wire-name="Draht 3"></controlwire>
        <controlwire wire="wire4" wire-name="Draht 4"></controlwire>
        <controlwire wire="wire5" wire-name="CMP Draht"></controlwire>
        <controlwireI wire="wire6" wire-name="Inc Draht"></controlwireI>

        <bus bus="dataBus" bus-name="Datenbus" max-value="255" base="base"
             color="'rgb(0, 140, 0)'" top="5.75" left="22"></bus>
        <bus bus="addressBus" bus-name="Adressbus" max-value="255" base="base"
             color="'rgb(0, 0, 225)'" top="0.85" left="5"></bus>

        <bus bus="testBus" bus-name="Testbus"></bus>
        <manualswitch wire="testBus" switch-name="Lena" value="0" top="10" left="5"></manualswitch>
        <led wire="testBus" led-name="Hugo" value="0" top="10" left="1"></led>

        <manualswitchI wire="wire1a" switch-name="switch 1 A" value="0" top="1" left="34"></manualswitchI>
        <manualswitchI wire="wire1b" switch-name="switch 1 B" value="0" top="2.5" left="34"></manualswitchI>
        <norgateI in-a="wire1a" in-b="wire1b" out="wire1" top="1" left="30" gate-name="OR 1"></norgateI>

        <comparetozero bus="addressBus" wire="wire5" comp-name="CMP1" left="13" top="2.3"></comparetozero>
        <ledI wire="wire5" led-name="CmpLed" left="13.03" top="5" value="0"></ledI>

        <memory memory-name="Datenspeicher" base="base" top="2" left="1" content="editors[0].content">
            <addressgate bus="addressBus"></addressgate>
            <datagate bus="dataBus"></datagate>
        </memory>
        <manualswitchI wire="wire6" switch-name="Inc switch" value="0" top="4" left="23"></manualswitchI>
        <register value="10" register-name="Register B" base="base" top="4" left="15">
            <gate bus="addressBus"></gate>
            <gate bus="dataBus"></gate>
        </register>
        <register value="1" register-name="Register C" base="base" top="3" left="25">
            <gate bus="addressBus"></gate>
            <gate bus="dataBus"></gate>
        </register>

        <manualswitchI wire="wire2" switch-name="switch 2" value="0" top="3.5" left="32"></manualswitchI>
        <ledI wire="wire2" value="0" top="4" left="30" led-name="testled"></ledI>
        <manualswitchI wire="wire3" switch-name="switch 3" value="0" top="6.5" left="32"></manualswitchI>
        <manualswitchI wire="wire4" switch-name="switch 4" value="0" top="5" left="32"></manualswitchI>
    </div>
    <div class="editor pane" ng-repeat="editor in editors"
         ng-show="selectedEditor === $index + 1" style="position: relative;">
        <label for="content-{{editor.name}}">{{ editor.name }}</label>
        <button type="button" ng-click="saveFile($index)">Als Datei speichern</button>
        <input type="file" id="filename-{{editor.name}}"
               ng-model="editor.filename"
               ng-change="readFile($index)" />
        <div style="position: absolute; top: 28px; overflow: hidden; ">
            <div style="position: relative; top: 0; height: 15em;">
                <div ng-repeat="line in splitLines(editor.content) track by $index"
                     class="line-number">{{ $index }}</div>
            </div>
        </div>
        <textarea style="position: absolute; top: 25px; left: 1.5em; white-space: nowrap; overflow: auto;"
                  onscroll="this.previousSibling.previousSibling.firstChild.nextSibling.style.top = -this.scrollTop + 'px'"
                  name="content-{{editor.name}}" id="content-{{editor.name}}"
                  ng-model="editor.content">{{ editor.content }}</textarea>
    </div>

    <div>
        <h2 data-i18n="_errors_" style="display: inline-block;">Errors</h2>
        <a ng-click="errors = []" ng-show="errors.length > 0"
           data-i18n="_clearErrors_" href="" style="font-size: 60%; margin-left: 2em;"></a>
    </div>
    <p ng-repeat="error in errors">
        <span data-i18n="{{ error.localization }}beginning"></span>
        <span style="font-style: italic;">{{ error.actor1 }}</span>
        <span data-i18n="{{ error.localization }}middle"></span>
        <span style="font-style: italic;">{{ error.actor2 }}</span>
        <span data-i18n="{{ error.localization }}end"></span>
    </p>
    <hr />
    <object data="images/CPU_Schema.svg" width="642" height="350" type="image/svg+xml"></object>
</div>