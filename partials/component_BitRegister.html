<div class="component nospace" ng-style="{'top': topCSS, 'left': leftCSS}">
    <div class="bitregister" ng-style="{'height': (getBits().length * 12) + 'px'}">
        <div style="width: 0; height: 0; overflow: visible; display: inline-block; position: absolute;">
            <div ng-click="toggleWideBusState()" ng-mousedown="$event.preventDefault();"
                 class="connection"
                 ng-style="{'background-color': gateColor}"
                 style="left: 2px;">
                <div ng-show="register.wideBusConnection.state == 1"
                     style="position: relative; top: -0.1em; left: 0.01em;" class="unselectable">&uarr;</div>
                <div ng-show="register.wideBusConnection.state == 0"
                     style="position: relative; top: 0.05em; left: 0.01em;" class="unselectable">&bull;</div>
                <div ng-show="register.wideBusConnection.state == -1"
                     style="position: relative; top: -0.1em; left: 0.01em;" class="unselectable">&darr;</div>
                <div style="position: absolute; top: 8px; left: 10px;" class="flanktriggered"></div>
            </div>
            <div ng-click="toggleBitConnectionState()" ng-mousedown="$event.preventDefault();"
                 class="bitconnections" style="position: absolute; left: -22px; top: -2px; width: 18px;"
                 ng-class="{'read': register.bitWiresConnection.state == -1, 'write': register.bitWiresConnection.state == 1, 'grayback': register.bitWiresConnection.state == 0}"
                 ng-style="{'height': (getBits().length * 12 + 2) + 'px'}">
                <div ng-repeat="bit in getBits() track by $index"
                     style="padding: 0; margin: 0; height: 12px; cursor: pointer; position: absolute; left: 1px;"
                     ng-style="{'top': ($index * 12) + 'px'}">
                    <span ng-show="register.bitWiresConnection.state == -1">&#8594;</span>
                    <span style="padding: 0 5px; position: relative; top: 2px;"
                          ng-show="register.bitWiresConnection.state == 0">&bull;</span>
                    <span ng-show="register.bitWiresConnection.state == 1">&#8592;</span>
                </div>
            </div>
            <div class="nospace" style="position: absolute;">
                <div class="busconnector"
                     style="position: absolute; left: 7px; top: -26px;"></div>
                <div class="wireconnector write"
                     style="position: absolute; left: 16px; top: -20px;"
                     ng-mousedown="activateWriteWire($event)"
                     ng-mouseup="deactivateWriteWire()"></div>
                <div class="wireconnector read"
                     style="position: absolute; left: 16px; top: -13px;"
                     ng-mousedown="activateReadWire($event)"></div>
                <div class="wireconnector write"
                     style="position: absolute; left: -19px; top: -6px;"
                     ng-mousedown="activateWireWrite($event)" ng-mouseup="deactivateWireWrite()"></div>
                <div class="wireconnector read"
                     style="position: absolute; left: -11px; top: -6px;"
                     ng-mousedown="activateWireRead($event)" ng-mouseup="deactivateWireRead()"></div>
                <div ng-repeat="bit in getBits() track by $index"
                     class="wireconnector grayback" style="left: -26px;"
                     ng-style="{'top': ($index * 12 + 4) + 'px'}"
                     ng-mousedown="activateBit($index, $event)" ng-mouseup="deactivateBit($index)"></div>
            </div>
        </div>
        <div ng-repeat="bit in getBits() track by $index"
             style="padding: 0; margin: 0; height: 12px; cursor: pointer; position: absolute;"
             ng-style="{'top': ($index * 12 + 6) + 'px'}">
            <div style="display: inline-block; margin: 0; width: 10px; font-family: monospace; font-size: 13px; position: absolute; left: -1px;"
                 ng-style="{'color': (bit) && (register.bitWiresConnection.state == 1) ? 'rgb(255, 0, 0)' : 'rgb(0, 0, 0)'}"
                 ng-mousedown="toggleBit($index)"
                 class="unselectable">{{ bit }}</div>
            <div style="display: inline-block; margin: 0; padding-left: 2px; width: 10px; font-family: monospace; font-size: 13px; color: rgba(0, 0, 0, 0.5); text-align: right; position: absolute; left: 9px;"
                 ng-mousedown="toggleBit($index)"
                 class="unselectable">{{ $index }}</div>
        </div>
        <div style="width: 0; height: 0; display: inline-block; position: absolute;" ng-transclude></div>
    </div>
</div>